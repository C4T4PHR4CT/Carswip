{"version":3,"sources":["extensions/Component.js","components/home/HomePage.js","components/layout/NavBar.js","services/Data.js","components/item/ItemListPage.js","components/item/ItemDetailsPage.js","components/login/LoginPage.js","components/login/AuthRoute.js","App.js","index.js"],"names":["Component","props","this","setState","state","rerenderAll","App","workaround","instance","React","HomePage","NavBar","id","onClick","toHome","sessionStorage","getItem","toLogin","logout","toItems","window","location","href","removeItem","baseURL","Data","getToken","username","password","fetch","headers","btoa","then","response","checkStatus","json","getAllItems","getItemById","submitSelection","selection","method","body","JSON","stringify","status","ItemListPage","display","itemsPerPage","items","maxPage","Math","floor","length","page","parseInt","URLSearchParams","search","get","isNaN","split","i","temp","parse","setItem","rerender","previousPage","bind","nextPage","detailItem","itemId","contains","document","getElementById","checked","j","getElementsByClassName","target","map","value","index","className","name","type","onChange","updateSelection","defaultChecked","isSelected","disabled","ItemDetailsPage","invalid","item","description","LoginPage","error","login","token","pathname","placeholder","e","onKeyDown","keyCode","AuthRoute","path","component","render","style","color","substring","performance","getEntriesByType","exact","ReactDOM"],"mappings":"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","file":"static/js/main.5fe8d440.chunk.js","sourcesContent":["import React from 'react'\r\nimport App from \"../App\";\r\n\r\nclass Component extends React.Component {\r\n    constructor (props) {\r\n        super(props)\r\n    }\r\n\r\n    rerender() {\r\n        this.setState({ state: this.state })\r\n    }\r\n\r\n    rerenderAll() {\r\n        Component.rerenderAll()\r\n    }\r\n\r\n    static rerenderAll() {\r\n        App.workaround.instance.setState({ state: App.workaround.instance.state })\r\n    }\r\n}\r\n\r\nexport default Component","import React from 'react'\nimport Component from \"../../extensions/Component\"\n\nclass HomePage extends Component {\n    constructor (props) {\n        super(props)\n    }\n\n    render () {\n        return (\n            <div>\n                <h1>This is a homepage.</h1>\n                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>\n            </div>\n        )\n    };\n}\n\nexport default HomePage","import React from 'react'\r\nimport Component from \"../../extensions/Component\"\r\nimport './NavBar.css'\r\n\r\nclass NavBar extends Component {\r\n    constructor (props) {\r\n        super(props)\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <div>\r\n                <div id='spacer'/>\r\n                <div id='navbar'>\r\n                    <button id='home' onClick={this.toHome}>Home</button>\r\n                    {sessionStorage.getItem('token') == null ? (\r\n                        <button id='login' onClick={this.toLogin}>Login</button>\r\n                    ) : (\r\n                        <button id='login' onClick={this.logout}>Logout</button>\r\n                    )}\r\n                    <button id='items' onClick={this.toItems}>Items</button>\r\n                </div>\r\n            </div>\r\n        )\r\n    };\r\n\r\n    toHome() {\r\n        window.location.href = \"/\"\r\n    }\r\n\r\n    toLogin() {\r\n        window.location.href = \"/login\"\r\n    }\r\n\r\n    logout() {\r\n        sessionStorage.removeItem('token')\r\n        Component.rerenderAll()\r\n    }\r\n\r\n    toItems() {\r\n        //let page = parseInt(new URLSearchParams(window.location.search).get('page'))\r\n        //if (isNaN(page))\r\n        window.location.href = \"/items\";\r\n        //else\r\n        //    window.location.href = \"/items?page=\" + page;\r\n    }\r\n}\r\n\r\nexport default NavBar","import Component from \"../extensions/Component\"\r\n\r\nconst baseURL = 'http://localhost:3001'\r\n\r\nclass Data {\r\n    static getToken = (username, password) => {\r\n        return fetch(baseURL + '/token', {\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json',\r\n                'Authorization': 'Basic ' + btoa(`${username}:${password}`)\r\n            }\r\n        }).then(response => checkStatus(response)).then(response => response.json())\r\n    }\r\n\r\n    static getAllItems = () => {\r\n        return fetch(baseURL + '/item', {\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json',\r\n                'Authorization': 'Bearer ' + sessionStorage.getItem('token')\r\n            }\r\n        }).then(response => checkStatus(response)).then(response => response.json())\r\n    }\r\n\r\n    static getItemById = (id) => {\r\n        return fetch(baseURL + '/item/' + id, {\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json',\r\n                'Authorization': 'Bearer ' + sessionStorage.getItem('token')\r\n            }\r\n        }).then(response => checkStatus(response)).then(response => response.json())\r\n    }\r\n\r\n    static submitSelection = (selection) => {\r\n        return fetch(baseURL + '/selection', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json',\r\n                'Authorization': 'Bearer ' + sessionStorage.getItem('token')\r\n            },\r\n            body: JSON.stringify(selection)\r\n        }).then(response => checkStatus(response))\r\n    }\r\n}\r\n\r\nconst checkStatus = (response) => {\r\n    if (response.status >= 400 && response.status < 500) {\r\n        sessionStorage.removeItem('token')\r\n        Component.rerenderAll()\r\n    }\r\n    return response\r\n}\r\n\r\nexport default Data","import React from 'react'\r\nimport Component from \"../../extensions/Component\"\r\nimport Data from './../../services/Data'\r\nimport './ItemListPage.css'\r\n\r\nclass ItemListPage extends Component {\r\n    constructor (props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            selection: [],\r\n            display: [],\r\n            itemsPerPage: 5\r\n        }\r\n        Data.getAllItems().then(response => {\r\n            this.state.items = response\r\n            this.state.maxPage = Math.floor(this.state.items.length / this.state.itemsPerPage) + 1;\r\n            this.state.page = parseInt(new URLSearchParams(window.location.search).get('page'))\r\n            if (isNaN(this.state.page))\r\n                window.location.href = window.location.href.split(\"?\")[0] + '?page=1'\r\n            if (this.state.page > this.state.maxPage)\r\n                window.location.href = window.location.href.split(\"?\")[0] + '?page=' + this.state.maxPage\r\n            if (this.state.page < 1)\r\n                window.location.href = window.location.href.split(\"?\")[0] + '?page=1'\r\n            for (let i = (this.state.page - 1) * this.state.itemsPerPage; i < this.state.page * this.state.itemsPerPage && i < this.state.items.length; i++)\r\n                this.state.display[this.state.display.length] = this.state.items[i];\r\n            let temp = sessionStorage.getItem('selection');\r\n            if (temp != null && temp !== \"\")\r\n                this.state.selection = JSON.parse(temp);\r\n            else\r\n                sessionStorage.setItem('selection', JSON.stringify(this.state.selection))\r\n            this.rerender()\r\n        })\r\n        this.previousPage = this.previousPage.bind(this)\r\n        this.nextPage = this.nextPage.bind(this)\r\n        this.detailItem = this.detailItem.bind(this)\r\n        this.submitSelection = this.submitSelection.bind(this)\r\n    }\r\n\r\n    isSelected (itemId) {\r\n        let contains = false;\r\n        for (let i = 0; i < this.state.selection.length; i++)\r\n            if (this.state.selection[i] === itemId) {\r\n                contains = true\r\n                break\r\n            }\r\n        return contains\r\n    }\r\n\r\n    updateSelection (itemId) {\r\n        if (document.getElementById(itemId).checked) {\r\n            let contains = false;\r\n            for (let i = 0; i < this.state.selection.length; i++)\r\n                if (this.state.selection[i] === itemId) {\r\n                    contains = true\r\n                    break\r\n                }\r\n            if (!contains)\r\n                this.state.selection[this.state.selection.length] = itemId\r\n        } else {\r\n            for (let i = 0; i < this.state.selection.length; i++)\r\n                if (this.state.selection[i] === itemId) {\r\n                    let temp = []\r\n                    for (let j = 0; j < this.state.selection.length; j++)\r\n                        if (j !== i)\r\n                            temp[temp.length] = this.state.selection[j];\r\n                    this.state.selection = temp\r\n                    i--;\r\n                }\r\n        }\r\n        sessionStorage.setItem('selection', JSON.stringify(this.state.selection))\r\n        this.rerender()\r\n    }\r\n\r\n    nextPage() {\r\n        window.location.href = window.location.href.split(\"?\")[0] + '?page=' + (this.state.page + 1)\r\n    }\r\n\r\n    previousPage() {\r\n        window.location.href = window.location.href.split(\"?\")[0] + '?page=' + (this.state.page - 1)\r\n    }\r\n\r\n    detailItem(id) {\r\n        window.location.href = \"/item\" + '?id=' + id //+ \"&page=\" + this.state.page\r\n    }\r\n\r\n    submitSelection() {\r\n        Data.submitSelection(this.state.selection).then(() => null)\r\n        this.state.selection = []\r\n        sessionStorage.setItem('selection', JSON.stringify(this.state.selection))\r\n        let temp = document.getElementsByClassName(\"checkbox\")\r\n        for (let i = 0; i < temp.length; i++)\r\n            temp[i].checked = false\r\n        this.rerender()\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <div>\r\n                <h1>Item List</h1>\r\n                <h4>Data from: <a href='http://wikiroulette.co' target='_blank'>http://wikiroulette.co</a></h4>\r\n                <form>\r\n                    {this.state.display.map((value, index) =>  {\r\n                        return <div className='item' key={index}>\r\n                            <p onClick={() => this.detailItem(value.id)}>{value.name}</p>\r\n                            <input className=\"checkbox\" type=\"checkbox\" id={value.id} onChange={() => this.updateSelection(value.id)} defaultChecked={this.isSelected(value.id)}/>\r\n                            <label>add to selection</label>\r\n                        </div>\r\n                    })}\r\n                </form>\r\n                <div id='pageNav'>\r\n                    <button disabled={this.state.page <= 1} onClick={this.previousPage}>{'<'}</button>\r\n                    <p>Page {this.state.page}/{this.state.maxPage}</p>\r\n                    <button disabled={this.state.page >= this.state.maxPage} onClick={this.nextPage}>{'>'}</button>\r\n                </div>\r\n                <button id='submit' disabled={this.state.selection.length === 0} onClick={this.submitSelection}>Submit Selection</button>\r\n            </div>\r\n        )\r\n    };\r\n}\r\n\r\nexport default ItemListPage","import React from 'react'\r\nimport Component from \"../../extensions/Component\"\r\nimport Data from './../../services/Data'\r\n\r\nclass ItemDetailsPage extends Component {\r\n    constructor (props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            invalid: false\r\n        }\r\n\r\n        let id = parseInt(new URLSearchParams(window.location.search).get('id'))\r\n        if (isNaN(id))\r\n            this.state.invalid = true\r\n        else {\r\n            Data.getItemById(id).then(response => {\r\n                this.state.item = response\r\n                if (this.state.item.name == null)\r\n                    this.state.invalid = true\r\n                this.rerender()\r\n            })\r\n        }\r\n    }\r\n\r\n    render () {\r\n        if (this.state.invalid)\r\n            return <h3>Sorry, but your princess is in another castle :c</h3>\r\n        else\r\n            return (\r\n                <div>\r\n                    <h1>{this.state.item != null && this.state.item.name}</h1>\r\n                    <p>{this.state.item != null && this.state.item.description}</p>\r\n                </div>\r\n            )\r\n    };\r\n}\r\n\r\nexport default ItemDetailsPage\r\n","import React from 'react'\nimport Component from \"../../extensions/Component\"\nimport Data from './../../services/Data'\nimport './LoginPage.css'\n\nclass LoginPage extends Component {\n  constructor (props) {\n    super(props)\n\n    this.state = {\n      username: '',\n      password: '',\n      error: ''\n    }\n\n    this.login = this.login.bind(this)\n  }\n\n  login() {\n    Data.getToken(this.state.username, this.state.password).then(response => {\n      if (response.token != null) {\n        sessionStorage.setItem('token', response.token)\n        if (window.location.pathname === \"/login\")\n          window.location.pathname = \"/\"\n      } else {\n        this.state.error = \"Incorrect username or password\"\n      }\n      Component.rerenderAll()\n    })\n  }\n\n  render () {\n    return (\n      <div id='login_base'>\n        <div>\n          <p className='label'>username:</p>\n          <input placeholder='Enter username' type='text' onChange={e => this.state.username = e.target.value} onKeyDown={e => {if (e.keyCode === 13) this.login()}}/>\n          <p className='label'>password:</p>\n          <input placeholder='Enter password' type='password' onChange={e => this.state.password = e.target.value} onKeyDown={e => {if (e.keyCode === 13) this.login()}}/>\n          <button id='login_button' onClick={this.login}>Login</button>\n          <p id='login_error' >{this.state.error}</p>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default LoginPage","import React from 'react'\nimport Component from \"../../extensions/Component\"\nimport { Route } from 'react-router-dom'\nimport LoginPage from \"./LoginPage\"\n\nclass AuthRoute extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            'path': props.path,\n            'component': props.component\n        }\n    }\n\n    render () {\n        return <Route path={this.state.path} render={() => (\n            sessionStorage.getItem('token') != null ? (\n                <this.state.component/>\n            ) : (\n                <div>\n                    <LoginPage/>\n                    <hr/>\n                    <p style={{color: \"red\"}}>You need to log in first to see this page!</p>\n                </div>\n            )\n        )}/>\n    }\n}\n\nexport default AuthRoute","import React from 'react'\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch\n} from 'react-router-dom'\nimport HomePage from './components/home/HomePage'\nimport NavBar from './components/layout/NavBar'\nimport ItemListPage from './components/item/ItemListPage'\nimport ItemDetailsPage from './components/item/ItemDetailsPage'\nimport LoginPage from './components/login/LoginPage'\nimport AuthRoute from './components/login/AuthRoute'\n\nclass App extends React.Component {\n  //JSX directly can not pass instance of class to static variable\n  static workaround\n  //Used in extensions/Component in method rerenderAll()\n  instance\n\n  constructor (props) {\n    super(props)\n\n    this.state = {}\n\n    if (window.location.pathname.substring(0,5) !== '/item' || performance.getEntriesByType(\"navigation\")[0].type === 'reload')\n      sessionStorage.setItem('selection', '[]')\n\n    this.instance = this\n    App.workaround = this.instance\n  }\n\n  render () {\n    return (\n      <Router>\n        <div>\n          <NavBar />\n          <Switch>\n            <Route path='/' exact component={HomePage} />\n            <AuthRoute path='/items' component={ItemListPage} />\n            <AuthRoute path='/item' component={ItemDetailsPage} />\n            <Route path='/login' component={LoginPage} />\n          </Switch>\n        </div>\n      </Router>\n    )\n  }\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}